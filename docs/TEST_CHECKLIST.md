# ReZipang NFT ミントサイト - テストチェックリスト

## 実行日: 2025年8月22日

## テスト環境
- **開発サーバー**: http://localhost:3000
- **ブロックチェーン**: Polygon Mainnet (Chain ID: 137)
- **コントラクトアドレス**: 0xeEb45AD49C073b0493B7104c8975ac7eaF8d003E
- **トークンID**: 2 (純金のパスポートNFT)
- **支払いトークン**: ZENY (0x7B2d2732dcCC1830AA63241dC13649b7861d9b54)

## 1. 基本機能テスト

### 1.1 ページ読み込み
- [ ] ページが正常に読み込まれる
- [ ] 日本語/英語の切り替えが動作する
- [ ] NFT画像が表示される
- [ ] 価格情報が正しく表示される（1 ZENY）

### 1.2 ウォレット接続
- [ ] MetaMaskとの接続が成功する
- [ ] 接続後、ウォレットアドレスが表示される
- [ ] Polygonネットワークに接続されている
- [ ] 間違ったネットワークの場合、警告が表示される

## 2. アローリスト機能

### 2.1 アローリスト確認
- [ ] アローリスト登録済みアドレスで正しく認識される
- [ ] 最大MINT数が正しく表示される
- [ ] 未登録アドレスで適切なエラーメッセージが表示される

## 3. ミント機能テスト

### 3.1 ZENY支払いフロー
- [ ] ZENY残高が確認できる
- [ ] Approve処理が正常に動作する
- [ ] Approve後、ミント処理が実行される

### 3.2 エラーケース
- [ ] ZENY残高不足時のエラーメッセージ確認
- [ ] ガス代不足時のエラーメッセージ確認
- [ ] ネットワークエラー時の再試行が可能

### 3.3 成功ケース
- [ ] ミント成功時、成功メッセージが表示される
- [ ] NFTが正しくウォレットに追加される
- [ ] トランザクションハッシュが確認できる

## 4. デバッグ機能

### 4.1 エラー詳細表示
- [ ] エラー時、詳細情報が展開可能
- [ ] コントラクトアドレスが表示される
- [ ] トークンIDが表示される
- [ ] 支払い情報が表示される

### 4.2 コンソールログ
- [ ] ミント試行時、適切なログが出力される
- [ ] 各メソッドの試行がログに記録される
- [ ] エラーの詳細がコンソールに表示される

## 5. SDK v5 実装確認

### 5.1 claimTo関数
- [ ] SDK v5のclaimTo関数が最初に試行される
- [ ] パラメータが正しく設定される
  - to: ユーザーアドレス
  - tokenId: 2 (BigInt)
  - quantity: 選択数量 (BigInt)
  - from: ユーザーアドレス（アローリスト対応）

### 5.2 フォールバック処理
- [ ] claimTo失敗時、直接claim関数が試行される
- [ ] 全メソッド失敗時、試したメソッド一覧が表示される

## 6. パフォーマンステスト

### 6.1 応答速度
- [ ] ページ読み込みが3秒以内
- [ ] ウォレット接続が5秒以内
- [ ] ミント処理開始が迅速

### 6.2 エラーリカバリ
- [ ] エラー後、再試行が可能
- [ ] ブラウザリロード後も状態が維持される

## 7. ビルド・デプロイテスト

### 7.1 ビルド
- [x] `pnpm run type-check`が成功
- [x] `pnpm run build`が成功
- [x] ビルドサイズが適切

### 7.2 本番環境
- [ ] Vercelへのデプロイが成功
- [ ] 環境変数が正しく設定されている
- [ ] 本番URLでアクセス可能

## テスト結果サマリー

**テスト実施者**: 
**実施日時**: 2025年8月22日
**結果**: 

### 確認済み項目
- ✅ Thirdweb SDK v5の最新ドキュメントに準拠
- ✅ ReZipangコントラクトのABIと整合性確認
- ✅ TypeScriptの型チェック成功
- ✅ 本番ビルド成功
- ✅ エラーハンドリングの改善実装

### 未確認項目
- ⏳ 実際のPolygonメインネットでのミント動作
- ⏳ ZENY支払いの実動作確認
- ⏳ アローリスト機能の実動作確認

## 推奨事項

1. **テストネット確認**
   - 本番前にPolygon Mumbaiテストネットで確認推奨

2. **モニタリング**
   - Vercelのエラーログを定期確認
   - ユーザーフィードバックの収集

3. **ドキュメント**
   - エラー発生時の対処法をユーザーガイドに追加
   - FAQ更新

## トラブルシューティング

### "execution reverted"エラーの対処
1. コンソールログで詳細確認
2. デバッグ情報の展開表示で状態確認
3. 以下を確認：
   - ZENY残高
   - Approve状態
   - ガス代
   - ネットワーク接続

### 修正履歴
- 2025/08/22: SDK v5 claimTo関数の正しい実装
- 2025/08/22: エラーハンドリングの詳細化
- 2025/08/22: デバッグ情報の拡充